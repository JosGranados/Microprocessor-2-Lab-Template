<!-- HTML header for doxygen 1.9.4-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Microprocessor 2 Labs: Lab 1 LED Controller</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../university_of_texas_at_el_paso_logo-2.png"/></td>
  <td id="projectalign">
   <div id="projectname">Microprocessor 2 Labs<span id="projectnumber">&#160;v2.0</span>
   </div>
   <div id="projectbrief">Microprocessor 2 Lab Documenation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<html> 
    <head>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
    </head>
    <body>
<html>
    <head>
        <!-- ... other metadata & script includes ... -->
        <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeFragmentCopyButton.init()
        </script>
    </head>
    <body>
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/d91/md_doc_pages_lab1.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Lab 1 LED Controller </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md25"></a>
Objective:</h1>
<ul>
<li><p class="startli">Understand how to use the gpio driver library from <a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/gpio.html#"><code>Espressif</code></a>. The lab will consist of using a <code>sweeper</code>, <code>led chaser</code> and any additionals led sequence that the student developed which be selected via an input. Students must have a total of three buttons. First button must start <code>sweeper</code> function which student must have complete from the previous lab. Next, the second button must start the <code>led chaser</code> function. Lastly, the third button must toggle the state of the onboard led.</p>
<p class="startli"><b>Buttons</b></p><ul>
<li>Button 1 -&gt; start <code>sweeper</code>, pull-down</li>
<li>Button 2 -&gt; start <code>led chaser</code> pull-down</li>
<li>Button 3 -&gt; toggle <code>onboard led</code> pull-down</li>
</ul>
</li>
<li><em><b>Undergrad Bonus:</b></em><ul>
<li>Create an other LED sequence and add another button, as pull-up.</li>
</ul>
</li>
<li><em><b>Grad Bonus:</b></em><ul>
<li>Add button to start lightshow that was done in the previous lab</li>
<li>Do a reset button which will turn off all LEDs</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
ESP32 Pinout</h2>
<div class="fragment"><div class="line">                                        +-----------------------+</div>
<div class="line">                                        | O      | USB |      O |</div>
<div class="line">                                        |        -------        |</div>
<div class="line">                                    3V3 | [ ]               [ ] | VIN</div>
<div class="line">                                    GND | [ ]               [ ] | GND</div>
<div class="line">    Touch3 / HSPI_CS0 / ADC2_3 / GPIO15 | [ ]               [ ] | GPIO13 / ADC2_4 / HSPI_ID / Touch4</div>
<div class="line">CS / Touch2 / HSPI_WP / ADC2_2 /  GPIO2 | [ ]               [ ] | GPIO12 / ADC2_5 / HSPI_Q / Touch5</div>
<div class="line">     Touch0 / HSPI_HD / ADC2_0 /  GPIO4 | [ ]               [ ] | GPIO14 / ADC2_6 / HSPI_CLK / Touch6</div>
<div class="line">                        U2_RXD / GPIO16 | [ ]               [ ] | GPIO27 / ADC2_7 / Touch7</div>
<div class="line">                        U2_TXD / GPIO17 | [ ]               [ ] | GPIO26 / ADC2_9 / DAC2</div>
<div class="line">                     V_SPI_CS0 /  GPIO5 | [ ]  ___________  [ ] | GPIO25 / ADC2_8 / DAC1</div>
<div class="line">               SCK / V_SPI_CLK / GPIO18 | [ ] |           | [ ] | GPIO33 / ADC1_5 / Touch8 / XTAL32</div>
<div class="line">       U0_CTS / MSIO / V_SPI_Q / GPIO19 | [ ] |           | [ ] | GPIO32 / ADC1_4 / Touch9 / XTAL32</div>
<div class="line">                SDA / V_SPI_HD / GPIO21 | [ ] |           | [ ] | GPIO35 / ADC1_7 </div>
<div class="line">                 CLK2 / U0_RXD /  GPIO3 | [ ] |           | [ ] | GPIO34 / ADC1_6 </div>
<div class="line">                 CLK3 / U0_TXD /  GPIO1 | [ ] |           | [ ] | GPIO39 / ADC1_3 / SensVN </div>
<div class="line">       SCL / U0_RTS / V_SPI_WP / GPIO22 | [ ] |           | [ ] | GPIO36 / ADC1_0 / SensVP </div>
<div class="line">               MOSI / V_SPI_WP / GPIO23 | [ ] |___________| [ ] | EN </div>
<div class="line">                                        |                       |</div>
<div class="line">                                        |  |  |  ____  ____  |  |</div>
<div class="line">                                        |  |  |  |  |  |  |  |  |</div>
<div class="line">                                        |  |__|__|  |__|  |__|  |</div>
<div class="line">                                        | O                   O |</div>
<div class="line">                                        +-----------------------+</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md27"></a>
Example</h2>
<p >Here is an example of a single GPIO set as ouptut and an input button. The following code will turn the onboard LED as long as the button is press. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;freertos/FreeRTOS.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;freertos/task.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;driver/gpio.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define HIGH 1</span></div>
<div class="line"><span class="preprocessor">#define LOW  0</span></div>
<div class="line"><span class="preprocessor">#define ONBOARD_LED 2</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define BUTTON_1 23</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../dd/d74/_additional___labs_2_lab__10_2main_8c.html#abce06be17fc37d675118a678a8100a36">app_main</a>(<span class="keywordtype">void</span>){</div>
<div class="line">  <span class="comment">/* Initialize OUTPUTs */</span></div>
<div class="line">  gpio_pad_select_gpio(ONBOARD_LED); <span class="comment">// select the GPIO pins</span></div>
<div class="line">  gpio_set_direction(ONBOARD_LED, GPIO_MODE_OUTPUT); <span class="comment">// set as output</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* Intialize INPUTs */</span></div>
<div class="line">  gpio_pad_select_gpio(BUTTON_1); <span class="comment">//select input </span></div>
<div class="line">  gpio_set_direction(BUTTON_1, GPIO_MODE_INPUT); <span class="comment">//set as input</span></div>
<div class="line">  gpio_set_pull_mode(BUTTON_1, GPIO_PULLDOWN_ONLY); <span class="comment">//set as pull-down</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span>(1){</div>
<div class="line">    <span class="keywordtype">int</span> res gpio_get_level(BUTTON_1);</div>
<div class="line">    vTaskDelay(10/portTICK_PERIOD_MS); <span class="comment">//debounce the button</span></div>
<div class="line">    <span class="keywordflow">if</span>(res == 1){</div>
<div class="line">        gpio_set_level(ONBOARD_LED, <a class="code hl_define" href="../../d0/d98/_lab__0_2main_8c.html#a5bb885982ff66a2e0a0a45a8ee9c35e2">HIGH</a>); <span class="comment">// set high</span></div>
<div class="line">    }<span class="keywordflow">else</span>{</div>
<div class="line">        gpio_set_level(ONBOARD_LED, <a class="code hl_define" href="../../d0/d98/_lab__0_2main_8c.html#ab811d8c6ff3a505312d3276590444289">LOW</a>); <span class="comment">//set low</span></div>
<div class="line">    }</div>
<div class="line">    <span class="comment">// ternary operator</span></div>
<div class="line">    <span class="comment">//res ? gpio_set_level(ONBOARD_LED, HIGH) : gpio_set_level(ONBOARD_LED, LOW);</span></div>
<div class="line">    vTaskDelay(100/portTICK_PERIOD_MS); <span class="comment">//avoid WDT trigger</span></div>
<div class="line">  }  </div>
<div class="line">}</div>
<div class="ttc" id="a_additional___labs_2_lab__10_2main_8c_html_abce06be17fc37d675118a678a8100a36"><div class="ttname"><a href="../../dd/d74/_additional___labs_2_lab__10_2main_8c.html#abce06be17fc37d675118a678a8100a36">app_main</a></div><div class="ttdeci">void app_main()</div><div class="ttdef"><b>Definition:</b> main.c:316</div></div>
<div class="ttc" id="a_lab__0_2main_8c_html_a5bb885982ff66a2e0a0a45a8ee9c35e2"><div class="ttname"><a href="../../d0/d98/_lab__0_2main_8c.html#a5bb885982ff66a2e0a0a45a8ee9c35e2">HIGH</a></div><div class="ttdeci">#define HIGH</div><div class="ttdef"><b>Definition:</b> main.c:54</div></div>
<div class="ttc" id="a_lab__0_2main_8c_html_ab811d8c6ff3a505312d3276590444289"><div class="ttname"><a href="../../d0/d98/_lab__0_2main_8c.html#ab811d8c6ff3a505312d3276590444289">LOW</a></div><div class="ttdeci">#define LOW</div><div class="ttdef"><b>Definition:</b> main.c:55</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md28"></a>
Lab Template</h2>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Author:     Jesus Minjares and Erick A. Baca</span></div>
<div class="line"><span class="comment">                Master of Science in Computer Engineering   </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    Course:     EE 5190 Laboratory for Microprocessors Systems II    </span></div>
<div class="line"><span class="comment">     </span></div>
<div class="line"><span class="comment">    Lab 1:</span></div>
<div class="line"><span class="comment">        Objective:</span></div>
<div class="line"><span class="comment">        Understand how to use the gpio driver library from ESPRESSIF. The lab will consist of using a </span></div>
<div class="line"><span class="comment">        `sweeper`, `led chaser` and any additionals led sequence that the student developed which be</span></div>
<div class="line"><span class="comment">        selected via an input. Students must have a total of three buttons. First button must start `sweeper`</span></div>
<div class="line"><span class="comment">        function which student must have complete from the previous lab. Next, the second button must start the </span></div>
<div class="line"><span class="comment">        `led chaser` function. Lastly, the third button must toggle the state of the onboard led.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    Buttons </span></div>
<div class="line"><span class="comment">    -------------</span></div>
<div class="line"><span class="comment">    Button 1 -&gt; start `sweeper`, pull-up</span></div>
<div class="line"><span class="comment">    Button 2 -&gt; start `led chaser` pull-down</span></div>
<div class="line"><span class="comment">    Button 3 -&gt; toggle `onboard led` pull-up</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    Bonus</span></div>
<div class="line"><span class="comment">    -------------</span></div>
<div class="line"><span class="comment">    - Undergrad Bonus:</span></div>
<div class="line"><span class="comment">        * Create an other LED sequence and add another button, button configuration does not matter. </span></div>
<div class="line"><span class="comment">    - Grad Bonus:</span></div>
<div class="line"><span class="comment">        * Add button to start lightshow that was done in the previous lab</span></div>
<div class="line"><span class="comment">        * Do a reset button which will turn off all LEDs </span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;freertos/FreeRTOS.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;freertos/task.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;driver/gpio.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Logic MACROs */</span></div>
<div class="line"><span class="preprocessor">#define HIGH 1</span></div>
<div class="line"><span class="preprocessor">#define LOW 0</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../d6/db3/_lab__1_2main_8c.html#af77b3872f6434d30845284ab3cbfd591">setInputs</a>(uint8_t *in, <span class="keywordtype">int</span> size)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; i++) <span class="comment">// itierate over the size of the array</span></div>
<div class="line">    {</div>
<div class="line">                 <span class="comment">// select the GPIO pins</span></div>
<div class="line">                <span class="comment">// set direction as inputs</span></div>
<div class="line">                <span class="comment">// set as pull-down</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/d98/_lab__0_2main_8c.html#a55a185439e570cb8341fb8149b84988e">setOutputs</a>(uint8_t *out, <span class="keywordtype">int</span> size)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; i++) <span class="comment">// itierate over the size of the array</span></div>
<div class="line">    {</div>
<div class="line">       </div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/d98/_lab__0_2main_8c.html#ae2b25158970fc0a4d4c4f291b1f747f7">sweep</a>(uint8_t *led, <span class="keywordtype">int</span> size)</div>
<div class="line">{</div>
<div class="line">   </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*Replace with yours*/</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../d6/db3/_lab__1_2main_8c.html#aae9c48b1d0fc8a1ffa66d3e9acfd338a">light_show</a>(){</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../d0/d98/_lab__0_2main_8c.html#aba31417398d96e30a6c367c7f61617fe">led_chaser</a>(uint8_t *led, <span class="keywordtype">int</span> size)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="../../dd/d74/_additional___labs_2_lab__10_2main_8c.html#abce06be17fc37d675118a678a8100a36">app_main</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Select GPIOs output and store in led array */</span></div>
<div class="line">    uint8_t led[] = {13}; <span class="comment">//replace with your GPIO pins </span></div>
<div class="line">    <span class="comment">/* Select GPIOs inputs and store in button array */</span></div>
<div class="line">    uint8_t button[] = {22, 23};</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Use sizeof() to get the size of the arrays */</span></div>
<div class="line">    <span class="keywordtype">int</span> led_size = <span class="keyword">sizeof</span>(led) / <span class="keyword">sizeof</span>(uint8_t);</div>
<div class="line">    <span class="keywordtype">int</span> button_size = <span class="keyword">sizeof</span>(button) / <span class="keyword">sizeof</span>(uint8_t);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize Inputs */</span></div>
<div class="line">    <a class="code hl_function" href="../../d6/db3/_lab__1_2main_8c.html#af77b3872f6434d30845284ab3cbfd591">setInputs</a>(button, button_size);</div>
<div class="line">    <span class="comment">/* Initialize Outputs */</span></div>
<div class="line">    <a class="code hl_function" href="../../d0/d98/_lab__0_2main_8c.html#a55a185439e570cb8341fb8149b84988e">setOutputs</a>(led, led_size);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> speed = 500; <span class="comment">// 0.5 second delay</span></div>
<div class="line">    <span class="keywordflow">while</span> (1)</div>
<div class="line">    {</div>
<div class="line">        vTaskDelay(5/portTICK_PERIOD_MS); <span class="comment">//debounce button</span></div>
<div class="line">        <span class="keywordtype">int</span> button0 = gpio_get_level(button[0]); <span class="comment">//read button 0</span></div>
<div class="line">        <span class="comment">// add additonal buttons </span></div>
<div class="line">        <span class="keywordflow">if</span>(button0 == 1){</div>
<div class="line">          <span class="comment">// sweep();</span></div>
<div class="line">        }</div>
<div class="line">        }<span class="keywordflow">else</span>{</div>
<div class="line">          vTaskDelay(100/portTICK_PERIOD_MS); <span class="comment">//100ms to avoid WDT errors</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="a_lab__0_2main_8c_html_a55a185439e570cb8341fb8149b84988e"><div class="ttname"><a href="../../d0/d98/_lab__0_2main_8c.html#a55a185439e570cb8341fb8149b84988e">setOutputs</a></div><div class="ttdeci">void setOutputs(uint8_t *out, int size)</div><div class="ttdoc">setOutputs will initialize uint8_t array as outputs</div><div class="ttdef"><b>Definition:</b> main.c:65</div></div>
<div class="ttc" id="a_lab__0_2main_8c_html_aba31417398d96e30a6c367c7f61617fe"><div class="ttname"><a href="../../d0/d98/_lab__0_2main_8c.html#aba31417398d96e30a6c367c7f61617fe">led_chaser</a></div><div class="ttdeci">void led_chaser(uint8_t *led, int size)</div><div class="ttdoc">led_chaser led chaser will make a single led to iterate over the array</div><div class="ttdef"><b>Definition:</b> main.c:99</div></div>
<div class="ttc" id="a_lab__0_2main_8c_html_ae2b25158970fc0a4d4c4f291b1f747f7"><div class="ttname"><a href="../../d0/d98/_lab__0_2main_8c.html#ae2b25158970fc0a4d4c4f291b1f747f7">sweep</a></div><div class="ttdeci">void sweep(uint8_t *led, int size)</div><div class="ttdoc">sweep function will sweep among the GPIOs</div><div class="ttdef"><b>Definition:</b> main.c:81</div></div>
<div class="ttc" id="a_lab__1_2main_8c_html_aae9c48b1d0fc8a1ffa66d3e9acfd338a"><div class="ttname"><a href="../../d6/db3/_lab__1_2main_8c.html#aae9c48b1d0fc8a1ffa66d3e9acfd338a">light_show</a></div><div class="ttdeci">void light_show()</div><div class="ttdef"><b>Definition:</b> main.c:110</div></div>
<div class="ttc" id="a_lab__1_2main_8c_html_af77b3872f6434d30845284ab3cbfd591"><div class="ttname"><a href="../../d6/db3/_lab__1_2main_8c.html#af77b3872f6434d30845284ab3cbfd591">setInputs</a></div><div class="ttdeci">void setInputs(uint8_t *in, int size)</div><div class="ttdoc">setInputs will initialize uint8_t array as inputs</div><div class="ttdef"><b>Definition:</b> main.c:71</div></div>
</div><!-- fragment --><hr  />
 <h1><a class="anchor" id="autotoc_md30"></a>
C helpful functions</h1>
<p >For this lab, there are couple additional functions from ESPRESSIF that are important for using inputs. As the previous lab, we must set the direction of the GPIO pin by using <code>gpio_set_direction(gpio_num_t gpio_num, gpio_mode_t mode)</code>. Previously we used *<code>GPIO_MODE_OUTPUT</code>* as we using outputs, however now that we will be using <em><code>GPIO_MODE_INPUT</code></em> for inputs. </p><div class="fragment"><div class="line">esp_err_t gpio_set_direction(gpio_num_t gpio_num, gpio_mode_t mode);</div>
</div><!-- fragment --><p >Next, as the name states <code>gpio_get_level(gpio_num_tgpio_num)</code> returns the current level of the GPIO pin whether it high and low. This function is use to get the current state of the input. </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> gpio_get_level(gpio_num_ tgpio_num);</div>
</div><!-- fragment --><p> Lastly, two function that are very important when using inputs is the setup for either pull-up or pull-down: <code>gpio_pulldown_en(gpio_num_t gpio_num)</code> and <code>gpio_pullup_en(gpio_num_t gpio_num)</code>. Here is an figure for pull-up and pull-down configuration. Pull-up is set to <code>high</code>, therefore to read the input as a <b>0</b>. Therfore, for pull-down as it set to <code>low</code>, it must read a <b>1</b> as it input. <br  />
 </p><div class="fragment"><div class="line">esp_err_t gpio_pullup_en(gpio_num_t gpio_num);</div>
</div><!-- fragment --> <div class="fragment"><div class="line">esp_err_t gpio_pulldown_en(gpio_num_t gpio_num);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md31"></a>
Pull-up and Pull-down Configuration</h2>
<p ><img src="https://user-images.githubusercontent.com/60948298/144836131-96f04e0f-c7f7-443f-b35c-814fb9db4e29.png" alt="button configuation" width="413" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md32"></a>
Additional Links</h2>
<ul>
<li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/peripherals/gpio.html#">Espressif GPIO Driver API</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md33"></a>
Authors</h2>
<ul>
<li><a href="https://github.com/jminjares4"><em><b>Jesus Minjares</b></em></a><ul>
<li><b>Master of Science in Computer Engineering</b> <br  />
 <a href="https://www.linkedin.com/in/jesusminjares/"><img src="https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&amp;logo=linkedin&amp;logoColor=white&amp;style=flat" alt="LinkedIn" class="inline"/></a> <a href="https://github.com/jminjares4"><img src="https://img.shields.io/badge/GitHub-100000?style=for-the-badge&amp;logo=github&amp;logoColor=white&amp;style=flat" alt="GitHub" class="inline"/></a></li>
</ul>
</li>
<li><a href="https://github.com/eabaca2419"><em><b>Erick Baca</b></em></a><ul>
<li><b>Master of Science in Computer Engineering</b> <br  />
 <a href="https://www.linkedin.com/in/erick-baca-484bbb215/"><img src="https://img.shields.io/badge/LinkedIn-0077B5?style=for-the-badge&amp;logo=linkedin&amp;logoColor=white&amp;style=flat" alt="LinkedIn" class="inline"/></a> <a href="https://github.com/eabaca2419"><img src="https://img.shields.io/badge/GitHub-100000?style=for-the-badge&amp;logo=github&amp;logoColor=white&amp;style=flat" alt="GitHub" class="inline"/></a></li>
</ul>
</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/jminjares4/Microprocessor-2-Lab-Template/tree/main/Lab_1">GitHub Lab 1</a> </dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
